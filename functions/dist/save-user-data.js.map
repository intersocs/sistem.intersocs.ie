{"version":3,"sources":["../src/save-user-data.js"],"names":["saveUserData","auth","user","onCreate","userRecord","uid","providerData","userData","email","displayName","photoURL","collection","doc","set"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,MAAMA,YAAY,GAAGC,wBAAKC,IAAL,GAAYC,QAAZ,CAAsBC,UAAD,IAAgB;AACxD,QAAMC,GAAG,GAAGD,UAAU,CAACC,GAAX,IAAkBD,UAAU,CAACE,YAAX,CAAwB,CAAxB,EAA2BD,GAAzD;AACA,QAAME,QAAQ,GAAG;AACfC,IAAAA,KAAK,EAAEJ,UAAU,CAACI,KAAX,IAAoBJ,UAAU,CAACE,YAAX,CAAwB,CAAxB,EAA2BE,KAA/C,IAAwD,EADhD;AAEfC,IAAAA,WAAW,EAAEL,UAAU,CAACK,WAAX,IAA0BL,UAAU,CAACE,YAAX,CAAwB,CAAxB,EAA2BG,WAArD,IAAoE,EAFlE;AAGfC,IAAAA,QAAQ,EAAEN,UAAU,CAACM,QAAX,IAAuBN,UAAU,CAACE,YAAX,CAAwB,CAAxB,EAA2BI,QAAlD,IAA8D;AAHzD,GAAjB;AAMA,SAAO,gCAAYC,UAAZ,CAAuB,OAAvB,EAAgCC,GAAhC,CAAoCP,GAApC,EAAyCQ,GAAzC,CAA6CN,QAA7C,CAAP;AACD,CAToB,CAArB;;eAWeP,Y","sourcesContent":["import { auth } from 'firebase-functions';\nimport { firestore } from 'firebase-admin';\n\nconst saveUserData = auth.user().onCreate((userRecord) => {\n  const uid = userRecord.uid || userRecord.providerData[0].uid;\n  const userData = {\n    email: userRecord.email || userRecord.providerData[0].email || '',\n    displayName: userRecord.displayName || userRecord.providerData[0].displayName || '',\n    photoURL: userRecord.photoURL || userRecord.providerData[0].photoURL || ''\n  };\n\n  return firestore().collection('users').doc(uid).set(userData);\n});\n\nexport default saveUserData;\n"],"file":"save-user-data.js"}